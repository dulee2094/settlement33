<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>?⑹쓽???묒꽦 諛?寃곗젣 - SafeHappE</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="agreement.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@500;700;800&family=Nanum+Myeongjo:wght@700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <div class="dashboard-layout">
        <!-- Sidebar (Reused) -->
        <aside class="sidebar">
            <a href="index.html" class="logo">SafeHappE.</a>
            <nav class="nav-links">
                <div class="nav-item" onclick="location.href='dashboard.html'">
                    <i class="fas fa-chart-pie"></i>
                    <span>?ш굔 ?꾪솴</span>
                </div>
                <div class="nav-item">
                    <i class="fas fa-comments"></i>
                    <span>?덉떖 梨꾪똿</span>
                </div>
                <div class="nav-item active">
                    <i class="fas fa-file-signature"></i>
                    <span>?⑹쓽??愿由?/span>
                </div>
                <div class="nav-item">
                    <i class="fas fa-gavel"></i>
                    <span>蹂?몄궗 以묒옱</span>
                </div>
                <div style="flex: 1;"></div>
                <div class="nav-item">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>濡쒓렇?꾩썐</span>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="top-bar">
                <div>
                    <h2 style="margin-bottom: 5px;">?⑹쓽???묒꽦 諛?寃곗젣</h2>
                    <p style="color: var(--text-muted);">理쒖쥌 ?⑹쓽 ?댁슜 ?뺤씤 ???쒕챸??吏꾪뻾?댁＜?몄슂.</p>
                </div>
            </div>

            <div class="agreement-container">
                <!-- Step Indicator -->
                <div class="step-indicator">
                    <div class="step active">1. ?댁슜 ?뺤씤</div>
                    <div class="step-line"></div>
                    <div class="step">2. ?꾩옄 ?쒕챸</div>
                    <div class="step-line"></div>
                    <div class="step">3. ?먯뒪?щ줈 寃곗젣</div>
                </div>

                <div class="two-column-layout">
                    <!-- Document Preview -->
                    <div class="document-viewer">
                        <div class="paper-doc">
                            <h1 style="text-align: center; font-family: 'Nanum Myeongjo', serif; margin-bottom: 30px;">??
                                ????????/h1>

                            <p class="doc-text">
                                <strong>?쇳빐??(媛?:</strong> ?띻만??(800101-1******)<br>
                                <strong>媛?댁옄 (??:</strong> 源泥좎닔 (820505-1******)
                            </p>

                            <p class="doc-text">
                                ???뱀궗?먮뱾? <strong>2024?뺤젣12345 ??뻾 ?ш굔</strong>??愿?섏뿬 ?ㅼ쓬怨?媛숈씠 ?먮쭔???⑹쓽?쒕떎.
                            </p>

                            <ol class="doc-list">
                                <li>
                                    "??? "媛??먭쾶 蹂??ш굔???쇳빐蹂댁긽湲덉쑝濡?<strong>湲??쇰갚?ㅼ떗留???(\3,500,000)</strong>??吏湲됲븳??
                                    吏湲됱? 蹂??뚮옯?쇱쓽 ?먯뒪?щ줈 怨꾩쥖瑜??듯빐 ?대（?댁?硫? ?낃툑 ?뺤씤 利됱떆 蹂??⑹쓽?쒖쓽 ?⑤젰??諛쒖깮?쒕떎.
                                </li>
                                <li>
                                    "媛?? 蹂??⑹쓽湲덉쓣 ?섎졊?④낵 ?숈떆??"????泥섎쾶???먰븯吏 ?딅뒗?ㅻ뒗 ?섏궗瑜??쒖떆?섎ŉ,
                                    ?ν썑 蹂??ш굔怨?愿?⑦븯??誘??뺤궗???대뼚???댁쓽???쒓린?섏? ?딅뒗??
                                </li>
                                <li>
                                    ???뱀궗?먮뒗 蹂??ш굔怨?愿?⑤맂 ?ъ떎?????먯뿉寃??좏룷?섍굅???곷?諛⑹쓣 鍮꾨갑?섏? ?딆쓣 寃껋쓣 ?쎌냽?쒕떎.
                                </li>
                            </ol>

                            <div class="doc-footer" style="margin-top: 50px; text-align: center;">
                                <p>2026??1??2??/p>
                                <br>
                                <div style="display: flex; justify-content: space-around;">
                                    <div>???쇳빐??媛?: <span id="sign-place-1" style="color:red;">(?쒕챸 ?湲?</span></div>
                                    <div>??媛?댁옄(??: <span id="sign-place-2" style="font-weight:bold;">源泥좎닔 (??</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Actions Area -->
                    <div class="action-panel">
                        <div class="glass-card">
                            <h3>?꾩옄 ?쒕챸</h3>
                            <p style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 15px;">
                                ?꾨옒 ?곸뿭??留덉슦?ㅻ굹 ?곗튂濡??쒕챸?댁＜?몄슂.
                            </p>

                            <canvas id="signaturePad" width="300" height="150"
                                style="background: white; border-radius: 8px; cursor: crosshair; touch-action: none;"></canvas>

                            <div style="display: flex; gap: 10px; margin-top: 10px;">
                                <button class="btn btn-glass" id="clearSignBtn"
                                    style="font-size: 0.8rem; padding: 0.5rem;">吏?곌린</button>
                                <button class="btn btn-primary" id="confirmSignBtn" style="flex: 1;">?쒕챸 ?뺤젙</button>
                            </div>
                        </div>

                        <div class="glass-card show-payment"
                            style="margin-top: 20px; opacity: 0.5; pointer-events: none;" id="paymentCard">
                            <h3>寃곗젣 (Escrow)</h3>
                            <p style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 15px;">
                                ?⑹쓽湲? <strong>3,500,000??/strong>
                            </p>
                            <div class="payment-methods">
                                <div class="method selected"><i class="fas fa-university"></i> 媛?곴퀎醫?/div>
                                <div class="method"><i class="far fa-credit-card"></i> 移대뱶寃곗젣</div>
                            </div>
                            <button class="btn btn-primary" style="width: 100%; margin-top: 20px;" id="payBtn">?낃툑 ?붿껌
                                (?먯뒪?щ줈)</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- PDF Generation Modal (Mock) -->
    <div id="pdfModal"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; align-items: center; justify-content: center;">
        <div
            style="background: white; width: 400px; padding: 30px; border-radius: 12px; text-align: center; color: #333;">
            <div id="pdfLoading">
                <i class="fas fa-file-pdf fa-3x" style="color: #e74c3c; margin-bottom: 20px;"></i>
                <h3 style="margin-bottom: 10px;">?⑹쓽???앹꽦 以?..</h3>
                <p style="color: #666; font-size: 0.9rem;">?꾩옄 ?쒕챸怨???꾩뒪?ы봽(TSA)瑜?br>臾몄꽌???좎씤?섍퀬 ?덉뒿?덈떎.</p>
                <div
                    style="width: 100%; background: #eee; height: 6px; border-radius: 3px; margin-top: 20px; overflow: hidden;">
                    <div
                        style="width: 0%; height: 100%; background: var(--secondary); animation: progress 2s ease-in-out forwards;">
                    </div>
                </div>
            </div>
            <div id="pdfSuccess" style="display: none;">
                <i class="fas fa-check-circle fa-3x" style="color: var(--secondary); margin-bottom: 20px;"></i>
                <h3 style="margin-bottom: 10px;">諛쒓툒 ?꾨즺</h3>
                <p style="color: #666; font-size: 0.9rem; margin-bottom: 20px;">臾몄꽌媛 ?덉쟾?섍쾶 ??λ릺?덉뒿?덈떎.</p>
                <button class="btn btn-primary" onclick="downloadMockPDF()">
                    <i class="fas fa-download"></i> PDF ?ㅼ슫濡쒕뱶 (240KB)
                </button>
                <button class="btn btn-glass"
                    style="margin-top: 10px; color: #666; width: 100%; border: 1px solid #ddd;"
                    onclick="closePdfModal()">?リ린</button>
            </div>
        </div>
    </div>

    <style>
        @keyframes progress {
            0% {
                width: 0%;
            }

            100% {
                width: 100%;
            }
        }
    </style>

    <script src="agreement.js"></script>
</body>

</html>