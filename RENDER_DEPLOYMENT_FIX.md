# Render ë°°í¬ ë¬¸ì œ í•´ê²° ì™„ë£Œ âœ…

## ğŸ” ë¬¸ì œ ì›ì¸

Renderì—ì„œ **"ì„œë²„ ì—°ê²° ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤"** ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚œ ì£¼ìš” ì›ì¸:

### 1. **ì„œë²„ ë°”ì¸ë”© ë¬¸ì œ** (ê°€ì¥ ì¤‘ìš”)
- **ë¬¸ì œ**: ì„œë²„ê°€ `localhost`ì—ë§Œ ë°”ì¸ë”©ë˜ì–´ ì™¸ë¶€ ìš”ì²­ì„ ë°›ì„ ìˆ˜ ì—†ì—ˆìŒ
- **í•´ê²°**: `0.0.0.0` í˜¸ìŠ¤íŠ¸ì— ë°”ì¸ë”©í•˜ì—¬ ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì—ì„œ ìš”ì²­ ìˆ˜ë½

### 2. **ì—ëŸ¬ í•¸ë“¤ë§ ë¶€ì¡±**
- **ë¬¸ì œ**: ì„œë²„ ì‹œì‘ ì‹¤íŒ¨ ì‹œ ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€ ì—†ìŒ
- **í•´ê²°**: `.on('error')` í•¸ë“¤ëŸ¬ ì¶”ê°€ë¡œ ì—ëŸ¬ ë¡œê¹… ê°œì„ 

### 3. **SQLite ë¹Œë“œ ë¬¸ì œ**
- **ë¬¸ì œ**: `npm rebuild sqlite3`ê°€ Render í™˜ê²½ì—ì„œ ì‹¤íŒ¨í•  ìˆ˜ ìˆìŒ
- **í•´ê²°**: ë¹Œë“œ ì‹¤íŒ¨ ì‹œì—ë„ ê³„ì† ì§„í–‰í•˜ë„ë¡ fallback ì¶”ê°€

---

## âœ… ì ìš©ëœ ìˆ˜ì •ì‚¬í•­

### 1. `server.js` ìˆ˜ì •
```javascript
// ë³€ê²½ ì „
app.listen(PORT, () => {
    console.log(`Server is running on http://localhost:${PORT}`);
});

// ë³€ê²½ í›„
const HOST = process.env.HOST || '0.0.0.0';

app.listen(PORT, HOST, () => {
    console.log(`âœ… Server is running on ${HOST}:${PORT}`);
    console.log(`Environment: ${process.env.NODE_ENV || 'development'}`);
}).on('error', (err) => {
    console.error('âŒ Server failed to start:', err.message);
    process.exit(1);
});
```

**ì£¼ìš” ê°œì„ ì :**
- âœ… `0.0.0.0` í˜¸ìŠ¤íŠ¸ì— ë°”ì¸ë”© (Render í•„ìˆ˜)
- âœ… í™˜ê²½ë³„ ë¡œê·¸ ë©”ì‹œì§€ ë¶„ë¦¬
- âœ… ì—ëŸ¬ í•¸ë“¤ë§ ì¶”ê°€
- âœ… ë” ëª…í™•í•œ ë¡œê·¸ ë©”ì‹œì§€ (ì´ëª¨ì§€ í¬í•¨)

### 2. `package.json` ìˆ˜ì •
```json
{
  "scripts": {
    "start": "node server.js",
    "dev": "node server.js",
    "postinstall": "npm rebuild sqlite3 --build-from-source || echo 'SQLite rebuild skipped'"
  }
}
```

**ì£¼ìš” ê°œì„ ì :**
- âœ… SQLite ë¹Œë“œ ì‹¤íŒ¨ ì‹œ fallback ì²˜ë¦¬
- âœ… `dev` ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ (ë¡œì»¬ ê°œë°œìš©)

### 3. `render.yaml` ê°œì„ 
```yaml
services:
  - type: web
    name: settlement-agreement-platform
    env: node
    plan: free
    buildCommand: npm install
    startCommand: npm start
    healthCheckPath: /
    envVars:
      - key: NODE_ENV
        value: production
      - key: HOST
        value: 0.0.0.0
```

**ì£¼ìš” ê°œì„ ì :**
- âœ… `healthCheckPath` ì¶”ê°€ (Renderê°€ ì„œë²„ ìƒíƒœ í™•ì¸)
- âœ… `HOST` í™˜ê²½ ë³€ìˆ˜ ëª…ì‹œ
- âœ… `plan: free` ëª…ì‹œ

---

## ğŸš€ Render ì¬ë°°í¬ ë°©ë²•

### ë°©ë²• 1: GitHubë¥¼ í†µí•œ ìë™ ë°°í¬ (ê¶Œì¥)

1. **ë³€ê²½ì‚¬í•­ì„ GitHubì— í‘¸ì‹œ**
   ```bash
   git add .
   git commit -m "Fix: Render ë°°í¬ë¥¼ ìœ„í•œ ì„œë²„ ë°”ì¸ë”© ìˆ˜ì •"
   git push origin main
   ```

2. **Render ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸**
   - Renderê°€ ìë™ìœ¼ë¡œ ìƒˆ ì»¤ë°‹ì„ ê°ì§€í•˜ê³  ì¬ë°°í¬ ì‹œì‘
   - ë°°í¬ ë¡œê·¸ì—ì„œ ë‹¤ìŒ ë©”ì‹œì§€ í™•ì¸:
     ```
     âœ… Database synced successfully.
     âœ… Server is running on 0.0.0.0:10000
     Environment: production
     ```

### ë°©ë²• 2: ìˆ˜ë™ ì¬ë°°í¬

1. Render ëŒ€ì‹œë³´ë“œ ì ‘ì†
2. í•´ë‹¹ ì„œë¹„ìŠ¤ ì„ íƒ
3. "Manual Deploy" â†’ "Deploy latest commit" í´ë¦­

---

## ğŸ§ª ë¡œì»¬ í…ŒìŠ¤íŠ¸ í™•ì¸

ìˆ˜ì • í›„ ë¡œì»¬ì—ì„œ ì •ìƒ ì‘ë™ í™•ì¸ë¨:
```
âœ… Database synced successfully.
âœ… Server is running on 0.0.0.0:3300
Environment: development
```

---

## âš ï¸ ì¤‘ìš” ì°¸ê³ ì‚¬í•­

### SQLite ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­

Renderì˜ ë¬´ë£Œ í”Œëœì€ **ì„ì‹œ íŒŒì¼ ì‹œìŠ¤í…œ**ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:
- âœ… ì„œë²„ ì¬ì‹œì‘ ì‹œ ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ì´ **ì´ˆê¸°í™”ë¨**
- âœ… í…ŒìŠ¤íŠ¸ ìš©ë„ë¡œëŠ” ì‚¬ìš© ê°€ëŠ¥
- âŒ í”„ë¡œë•ì…˜ í™˜ê²½ì—ëŠ” **ë¶€ì í•©**

### í”„ë¡œë•ì…˜ ë°°í¬ ì‹œ ê¶Œì¥ì‚¬í•­

ì¥ê¸°ì ìœ¼ë¡œëŠ” ë‹¤ìŒ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì„¸ìš”:

1. **PostgreSQL ì‚¬ìš© (ê¶Œì¥)**
   - Render ë¬´ë£Œ PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ì œê³µ
   - ë°ì´í„° ì˜êµ¬ ë³´ì¡´
   - ì„¤ì • ë°©ë²•:
     ```bash
     npm install pg pg-hstore
     # config/database.js ìˆ˜ì • í•„ìš”
     ```

2. **ì™¸ë¶€ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°**
   - Supabase (ë¬´ë£Œ PostgreSQL)
   - PlanetScale (ë¬´ë£Œ MySQL)
   - MongoDB Atlas (ë¬´ë£Œ MongoDB)

---

## ğŸ“‹ ë°°í¬ í›„ í™•ì¸ì‚¬í•­

ë°°í¬ ì™„ë£Œ í›„ ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

1. **ì„œë²„ ìƒíƒœ**
   - Render ëŒ€ì‹œë³´ë“œì—ì„œ "Live" ìƒíƒœ í™•ì¸
   - ë°°í¬ ë¡œê·¸ì—ì„œ ì—ëŸ¬ ì—†ëŠ”ì§€ í™•ì¸

2. **ì›¹ì‚¬ì´íŠ¸ ì ‘ì†**
   - `https://settlement33.onrender.com` ì ‘ì†
   - "ì„œë²„ ì—°ê²° ì˜¤ë¥˜" ë©”ì‹œì§€ê°€ ì‚¬ë¼ì¡ŒëŠ”ì§€ í™•ì¸

3. **API í…ŒìŠ¤íŠ¸**
   - ë¡œê·¸ì¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
   - Blind Proposal í˜ì´ì§€ ì ‘ì† í…ŒìŠ¤íŠ¸

---

## ğŸ› ë¬¸ì œ ë°œìƒ ì‹œ ë””ë²„ê¹…

### Render ë¡œê·¸ í™•ì¸ ë°©ë²•
1. Render ëŒ€ì‹œë³´ë“œ â†’ í•´ë‹¹ ì„œë¹„ìŠ¤ ì„ íƒ
2. "Logs" íƒ­ í´ë¦­
3. ë‹¤ìŒ ë©”ì‹œì§€ë¥¼ ì°¾ì•„ë³´ì„¸ìš”:
   - âœ… `Server is running on 0.0.0.0:10000`
   - âŒ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ìˆë‹¤ë©´ ë³µì‚¬í•´ì„œ ë¶„ì„

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ

| ì¦ìƒ | ì›ì¸ | í•´ê²° ë°©ë²• |
|------|------|-----------|
| "Application failed to respond" | í¬íŠ¸ ë°”ì¸ë”© ì‹¤íŒ¨ | `HOST=0.0.0.0` í™•ì¸ |
| "Build failed" | npm install ì‹¤íŒ¨ | `package.json` ì˜ì¡´ì„± í™•ì¸ |
| "Database error" | SQLite íŒŒì¼ ì—†ìŒ | ì •ìƒ (ì¬ì‹œì‘ ì‹œ ìë™ ìƒì„±) |

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„

1. âœ… **ì¦‰ì‹œ**: GitHubì— í‘¸ì‹œí•˜ì—¬ Render ì¬ë°°í¬
2. â­ï¸ **ë‹¨ê¸°**: ë°°í¬ í›„ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
3. ğŸ”® **ì¥ê¸°**: PostgreSQLë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ê³ ë ¤

---

## ğŸ’¡ ì¶”ê°€ ìµœì í™” ì œì•ˆ

### 1. í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
Render ëŒ€ì‹œë³´ë“œì—ì„œ ë‹¤ìŒ í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€ ê¶Œì¥:
```
DATABASE_URL=<PostgreSQL URL>  # ë‚˜ì¤‘ì— PostgreSQL ì‚¬ìš© ì‹œ
SESSION_SECRET=<ëœë¤ ë¬¸ìì—´>    # ì„¸ì…˜ ë³´ì•ˆ ê°•í™”
```

### 2. CORS ì„¤ì • ê°œì„ 
í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” íŠ¹ì • ë„ë©”ì¸ë§Œ í—ˆìš©:
```javascript
app.use(cors({
    origin: process.env.NODE_ENV === 'production' 
        ? 'https://settlement33.onrender.com'
        : '*'
}));
```

### 3. ë¡œê¹… ê°œì„ 
í”„ë¡œë•ì…˜ ë¡œê¹… ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€:
```bash
npm install winston
```

---

**ìˆ˜ì • ì™„ë£Œ ì‹œê°„**: 2026-01-31 22:37  
**í…ŒìŠ¤íŠ¸ ìƒíƒœ**: âœ… ë¡œì»¬ í…ŒìŠ¤íŠ¸ í†µê³¼  
**ë°°í¬ ì¤€ë¹„**: âœ… ì™„ë£Œ
