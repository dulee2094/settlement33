<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeHappE - 형사사건 비대면 안전 합의 플랫폼</title>
    <meta name="description" content="피해자와 피의자 모두를 위한 안전하고 공정한 비대면 합의 플랫폼. 익명성 보장, 에스크로 안전 결제, 법률 데이터 기반 합의금 산정.">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@500;700;800&display=swap"
        rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <!-- Header -->
    <header>
        <div class="container">
            <a href="#" class="logo">
                <div class="logo-grid">
                    <span class="logo-row-en logo-en-left">Safe</span>
                    <span class="logo-row-en logo-en-right">HappE.</span>
                    <span class="logo-row-kr logo-kr-left">세이프</span>
                    <span class="logo-row-kr logo-kr-right">합의</span>
                </div>
            </a>
            <nav>
                <ul>
                    <li><a href="#features">서비스 소개</a></li>
                    <li><a href="#process">이용 절차</a></li>
                    <li><a href="#faq">자주 묻는 질문</a></li>
                </ul>
            </nav>
            <div class="auth-buttons" style="display: none;">
                <!-- Login button moved to main hero section -->
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="glow-bg"></div>
        <div class="glow-bg-2"></div>

        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1>
                        상처 없는 합의,<br>
                        <span class="highlight">블라인드 제안</span>으로 더 가까이
                    </h1>
                    <p>
                        서로의 희망 금액은 숨긴 채, 시스템이 격차를 분석해 드립니다.<br>
                        눈치 보지 말고 소신껏 제안하고, 스트레스 없이 합의점을 찾으세요.
                    </p>
                    <div class="hero-cta">
                        <!-- Buttons removed as per request -->
                    </div>
                </div>

                <div class="hero-visual">
                    <!-- Central Login Card -->
                    <div class="glass-card login-card"
                        style="padding: 40px; border: 1px solid rgba(255,255,255,0.1); width: 100%; max-width: 400px; margin: 0 auto; box-shadow: 0 15px 35px rgba(0,0,0,0.2);">
                        <h3 style="text-align: center; margin-bottom: 25px; font-size: 1.5rem;">로그인</h3>
                        <form id="heroLoginForm" onsubmit="handleHeroLogin(event)">
                            <div class="form-group" style="margin-bottom: 20px;">
                                <label
                                    style="display: block; margin-bottom: 8px; color: var(--text-muted); font-size: 0.9rem;">이메일</label>
                                <input type="email" id="heroEmail" class="form-input"
                                    style="width: 100%; padding: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;"
                                    placeholder="name@example.com" required>
                            </div>
                            <div class="form-group" style="margin-bottom: 30px;">
                                <label
                                    style="display: block; margin-bottom: 8px; color: var(--text-muted); font-size: 0.9rem;">비밀번호</label>
                                <input type="password" id="heroPassword" class="form-input"
                                    style="width: 100%; padding: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;"
                                    placeholder="비밀번호 입력" required>
                            </div>
                            <button type="submit" class="btn btn-primary"
                                style="width: 100%; padding: 14px; font-size: 1rem; margin-bottom: 20px;">로그인</button>

                            <div
                                style="display: flex; justify-content: space-between; font-size: 0.85rem; color: var(--text-muted);">
                                <a href="#" style="color: var(--text-muted); text-decoration: none;">비밀번호 찾기</a>
                                <a href="signup.html"
                                    style="color: var(--secondary); text-decoration: none; font-weight: 600;">회원가입</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
        <div class="container">
            <div class="section-header">
                <h2>왜 SafeHappE 인가요?</h2>
                <p>불필요한 감정 소모는 줄이고, 합의의 본질에만 집중하세요.</p>
            </div>

            <div class="features-grid">
                <!-- Feature 1: Blind Proposal (Key Feature) -->
                <div class="glass-card">
                    <div class="feature-icon">
                        <i class="fas fa-balance-scale"></i>
                    </div>
                    <h3>합리적인 블라인드 제안</h3>
                    <p style="color: var(--text-muted); margin-top: 10px;">
                        직접적인 금액 흥정으로 인한 감정 소모를 막습니다. 서로 비공개로 희망액을 제안하면, 시스템이 격차를 좁혀가도록 중재합니다.
                    </p>
                </div>

                <!-- Feature 2: Safe Communication -> Record Keeping -->
                <div class="glass-card">
                    <div class="feature-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <h3>투명한 소통과 안전한 기록 보관</h3>
                    <p style="color: var(--text-muted); margin-top: 10px;">
                        모든 대화 내용은 안전하게 저장되어, 만약의 상황에 증빙 자료로 활용할 수 있습니다. 감정적인 분쟁 대신 이성적인 기록을 남기세요.
                    </p>
                </div>

                <!-- Feature 3: Electronic Signature -> Legal Finality -->
                <div class="glass-card">
                    <div class="feature-icon">
                        <i class="fas fa-file-contract"></i>
                    </div>
                    <h3>법적 분쟁을 끝내는 완벽한 합의서</h3>
                    <p style="color: var(--text-muted); margin-top: 10px;">
                        합의 성사 즉시 변호사 검수를 거친 표준 양식의 합의서가 생성됩니다. 추후 발생할 수 있는 법적 시비를 원천 차단하고 사건을 깔끔하게 마무리하세요.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Process Section (New) -->
    <section id="process" class="process-section">
        <div class="container">
            <div class="section-header">
                <h2>이용 절차</h2>
                <p>복잡한 합의, SafeHappE에서는 4단계로 끝납니다.</p>
            </div>

            <div class="process-steps">
                <!-- Step 1 -->
                <div class="process-card">
                    <div class="step-number">01</div>
                    <div class="icon-box"><i class="fas fa-door-open"></i></div>
                    <h3>방 개설 및 입장</h3>
                    <p>내가 방장이 되어 합의방을 만들거나,<br>개설된 방을 찾아 입장하세요.</p>
                </div>

                <!-- Arrow -->
                <div class="process-arrow"><i class="fas fa-chevron-right"></i></div>

                <!-- Step 2 -->
                <div class="process-card">
                    <div class="step-number">02</div>
                    <div class="icon-box"><i class="fas fa-comments"></i></div>
                    <h3>비공개 소통</h3>
                    <p>채팅으로 서로의 의사를 확인하고,<br>사과문이나 정보를 안전하게 공유하세요.</p>
                </div>

                <!-- Arrow -->
                <div class="process-arrow"><i class="fas fa-chevron-right"></i></div>

                <!-- Step 3 -->
                <div class="process-card highlight-step">
                    <div class="step-number">03</div>
                    <div class="icon-box"><i class="fas fa-sliders-h"></i></div>
                    <h3>블라인드 합의 제안</h3>
                    <p>서로 희망 금액을 비공개로 입력하면<br>시스템이 격차를 좁혀드립니다.</p>
                </div>

                <!-- Arrow -->
                <div class="process-arrow"><i class="fas fa-chevron-right"></i></div>

                <!-- Step 4 -->
                <div class="process-card">
                    <div class="step-number">04</div>
                    <div class="icon-box"><i class="fas fa-file-signature"></i></div>
                    <h3>합의서 자동 완성</h3>
                    <p>합의가 성사되면 즉시 전자 서명 후<br>법적 효력이 있는 문서를 받으세요.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>
                        <span style="font-family: 'Outfit', sans-serif; font-weight: 800; color: #fff;">Safe<span
                                style="background: linear-gradient(135deg, #4ade80, #3b82f6); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">HappE.</span></span>
                    </h3>
                    <p>
                        안전한 비대면 합의의 새로운 기준.<br>
                        Contact: support@safehappe.com
                    </p>
                </div>
                <div class="footer-links">
                    <h4>Service</h4>
                    <ul>
                        <li><a href="#">서비스 소개</a></li>
                        <li><a href="#">요금 안내</a></li>
                        <li><a href="#">이용약관</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="#">고객센터</a></li>
                        <li><a href="#">변호사 중재 신청</a></li>
                        <li><a href="#">데이터 삭제 요청</a></li>
                    </ul>
                </div>
            </div>
            <div style="text-align: center; margin-top: 50px; color: var(--text-muted); font-size: 0.8rem;">
                &copy; 2026 SafeHappE Inc. All rights reserved.
            </div>
        </div>
    </footer>

    <script src="app.js"></script>
    <script>
        // Inline script to handle Hero Login
        async function handleHeroLogin(e) {
            e.preventDefault();
            const email = document.getElementById('heroEmail').value;
            const password = document.getElementById('heroPassword').value;

            // Basic validation
            if (!email || !password) {
                alert('이메일과 비밀번호를 입력해주세요.');
                return;
            }

            try {
                // Determine API URL (Local vs Prod)
                const IS_LOCAL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
                const API_BASE = IS_LOCAL ? 'http://localhost:3000/api' : '/api';

                // Demo Mode handling for static deployment without backend
                const DEMO_MODE = false;

                if (DEMO_MODE) {
                    // ... Demo logic equivalent to login.js ...
                    alert('데모 로그인 성공!');
                    localStorage.setItem('user_id', 'demo_123');
                    localStorage.setItem('user_name', '데모사용자');
                    window.location.href = 'dashboard.html';
                    return;
                }

                const res = await fetch(`${API_BASE}/auth/login`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, password })
                });

                const data = await res.json();

                if (data.success) {
                    localStorage.setItem('user_id', data.userId);
                    localStorage.setItem('user_name', data.name);
                    window.location.href = 'dashboard.html';
                } else {
                    alert('로그인 실패: ' + (data.error || '이메일 또는 비밀번호를 확인해주세요.'));
                }
            } catch (err) {
                console.error(err);
                alert('서버 연결 오류가 발생했습니다.');
            }
        }
    </script>
</body>

</html>